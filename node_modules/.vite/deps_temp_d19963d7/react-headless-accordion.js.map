{
  "version": 3,
  "sources": ["../../react-headless-accordion/src/components/Accordion.tsx", "../../react-headless-accordion/src/components/AccordionItem.tsx", "../../react-headless-accordion/src/components/AccordionHeader.tsx", "../../react-headless-accordion/src/components/AccordionBody.tsx"],
  "sourcesContent": ["import React, {createContext, useCallback, useMemo, useRef, useState} from \"react\";\nimport {Items, Transition} from \"../types\";\n\ninterface AccordionStore {\n    accordionRef:  React.MutableRefObject<null> | null,\n    items: Items,\n    setItems: (value: Items) => void,\n    transition?: Transition | null,\n    alwaysOpen?: boolean\n}\n\nexport const AccordionContext = createContext<AccordionStore>({\n    accordionRef: null,\n    items: {},\n    setItems: (data) => {},\n    transition: null,\n    alwaysOpen: false\n});\n\ninterface Props {\n    children: JSX.Element | JSX.Element[],\n    as?: string,\n    transition?: Transition,\n    alwaysOpen?: boolean,\n    className?: string\n}\n\nexport const Accordion: React.FC<Props> = ({children , as = \"div\", className = \"\", transition = undefined , alwaysOpen = false}) => {\n    const accordionRef = useRef(null);\n    const [items, setItems] = useState<Items>({});\n\n    const TagName: any = useMemo(() => {\n        if (as) {\n            return as\n        }\n        return \"div\";\n    }, [as]);\n\n    const value = useMemo(() => {\n        return {\n            accordionRef,\n            items,\n            setItems,\n            transition,\n            alwaysOpen\n        };\n    }, [alwaysOpen, items, transition]);\n\n    return (\n        <AccordionContext.Provider value={value}>\n            <TagName className={className}>\n                {children}\n            </TagName>\n        </AccordionContext.Provider>\n    );\n};\n\nexport default Accordion;", "import React, {createContext, useCallback, useContext, useEffect, useMemo, useState} from \"react\";\nimport {Items, Transition} from \"../types\";\nimport {AccordionContext} from \"./Accordion\";\n\ninterface AccordionItemStore {\n    accordionRef: React.MutableRefObject<null> | null,\n    active: boolean,\n    items: Items,\n    hash: string,\n    toggle: () => void,\n    transition?: Transition | null,\n    alwaysOpen?: boolean,\n    isActive?: boolean\n}\n\nexport const AccordionItemContext = createContext<AccordionItemStore>({\n    accordionRef: null,\n    active: false,\n    items: {},\n    hash: \"\",\n    transition: null,\n    alwaysOpen: false,\n    toggle: () => {},\n    isActive: false,\n});\n\nexport interface Props {\n    children: JSX.Element | JSX.Element[] | Function,\n    isActive?: boolean,\n}\n\nconst AccordionItem: React.FC<Props> = ({children, isActive = false}) => {\n    const {accordionRef, items, setItems, transition, alwaysOpen} = useContext(AccordionContext);\n    const [active, setActive] = useState<boolean>(false);\n\n    const hash = useMemo(() => {\n        return Math.random().toString(36).substring(2, 9);\n    }, []);\n\n    useEffect(() => {\n        if (!(hash in items)) {\n            setItems({...items, [hash]: setActive});\n        }\n    }, [items]);\n\n    const value = useMemo(() => {\n        return {\n            accordionRef,\n            active,\n            toggle: () => setActive(!active),\n            items,\n            hash,\n            transition,\n            alwaysOpen,\n            isActive\n        }\n    }, [accordionRef, active, alwaysOpen, hash, isActive, items, transition]);\n\n    return (\n        <AccordionItemContext.Provider value={value}>\n            {typeof children === \"function\" ? children({open: active}) : children}\n        </AccordionItemContext.Provider>\n    )\n};\n\nexport default AccordionItem;", "import React, {useRef, useContext, useMemo, useEffect} from \"react\";\nimport {AccordionItemContext} from \"./AccordionItem\";\n\ninterface Props {\n    children: JSX.Element | JSX.Element[],\n    as?: string,\n    className?: string,\n    href?: string,\n    onClick?: (e: Event) => void\n}\n\nconst AccordionHeader: React.FC<Props> = ({children, as = \"button\", className = \"\", href = \"\", onClick}) => {\n    const {hash, toggle, items, alwaysOpen, isActive} = useContext(AccordionItemContext);\n    const ref = useRef(null);\n\n    const TagName: any = useMemo(() => {\n        if(as) {\n            return as;\n        }\n        return \"button\";\n    }, [as]);\n\n    useEffect(() => {\n        if (isActive && ref && ref.current) {\n            toggle()\n            const button = ref.current as HTMLElement;\n            button.setAttribute(\"aria-expanded\", \"true\");\n            const content = document.querySelector<HTMLElement>(`#${button.getAttribute('aria-controls')}`);\n            if (content) {\n                content.style.maxHeight = \"none\";\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        const toggleButton = (button: HTMLElement) => {\n            let ariaExpanded = button.getAttribute('aria-expanded');\n            button.setAttribute('aria-expanded', ariaExpanded === \"false\" ? \"true\" : \"false\");\n        }\n\n        const toggleContent = (content: HTMLDivElement | HTMLUListElement) => {\n            if (content) {\n                const transitionEnd = () => {\n                    if(content.style.maxHeight !== \"0px\") {\n                        content.style.maxHeight = \"none\";\n                    }\n\n                    content.removeEventListener('transitionend', transitionEnd);\n                }\n\n                content.addEventListener('transitionend', transitionEnd);\n\n                if (content.style.maxHeight === \"0px\") {\n                    content.style.maxHeight = content.scrollHeight+\"px\";\n                } else {\n                    content.style.maxHeight = content.scrollHeight+\"px\";\n                    content.style.maxHeight = content.scrollHeight+\"px\";\n                    content.style.maxHeight = \"0px\";\n                }\n            }\n        }\n\n        if (ref && ref.current) {\n            const button = ref?.current as HTMLElement;\n\n            const showAccordion = (e: Event) => {\n                // Pervent default\n                if (TagName === \"a\") {\n                    e.preventDefault();\n                }\n\n                toggle()\n\n                if (!alwaysOpen) {\n                    // Close content already open\n                    const buttons = button.parentNode?.querySelectorAll<HTMLElement>(`:scope > ${TagName}[aria-expanded='true']`);\n                    if (buttons) {\n                        buttons.forEach(item => {\n                            if (item && item !== button) {\n                                const id = item.id.split(\"-\")[1];\n                                items[id](false);\n                                toggleButton(item);\n                                const content = document.querySelector<HTMLDivElement | HTMLUListElement>(`#${item.getAttribute('aria-controls')}`);\n                                if (content) {\n                                    toggleContent(content);\n                                }\n                            }\n                        });\n                    }\n                }\n\n                // Toggle Button\n                toggleButton(button);\n\n                // Toggle Content\n                const content = document.querySelector(`#${button.getAttribute('aria-controls')}`) as HTMLDivElement | HTMLUListElement\n                toggleContent(content);\n\n                if (onClick) {\n                    onClick(e);\n                }\n            };\n\n            if (button) {\n                button.addEventListener('click', showAccordion);\n            }\n\n            return () => {\n                if (button) {\n                    button.removeEventListener('click', showAccordion);\n                }\n            };\n        }\n        return () => {}\n\n    }, [TagName, alwaysOpen, items, onClick, toggle]);\n\n    if (TagName === \"a\") {\n        return  (\n            <a\n                ref={ref}\n                id={`button-${hash}`}\n                href={href}\n                aria-expanded=\"false\"\n                className={className}\n                aria-controls={`content-${hash}`}\n            >\n                {children}\n            </a>\n        );\n    }\n\n    return  (\n        <TagName\n            ref={ref}\n            id={`button-${hash}`}\n            aria-expanded=\"false\"\n            className={className}\n            aria-controls={`content-${hash}`}\n        >\n            {children}\n        </TagName>\n    );\n};\n\n\nexport default AccordionHeader;", "import React, {useContext, useMemo} from \"react\";\nimport {AccordionItemContext} from \"./AccordionItem\";\n\ninterface Props {\n    children: JSX.Element | JSX.Element[],\n    as?: string\n    className?: string\n}\n\nconst AccordionBody: React.FC<Props> = ({children, as = \"div\", className = \"\"}) => {\n    const {hash, transition} = useContext(AccordionItemContext);\n\n    const TagName: any = useMemo(() => {\n        if(as) {\n            return as;\n        }\n        return \"div\";\n    }, [as]);\n\n    const transitionData = useMemo(() => {\n        const defaultData = {\n            duration: \"300ms\",\n            timingFunction: \"cubic-bezier(0, 0, 0.2, 1)\"\n        }\n\n        if (transition && (\"duration\" in transition) && transition.duration) {\n            defaultData.duration = transition.duration;\n        }\n\n        if (transition && (\"timingFunction\" in transition) && transition.timingFunction) {\n            defaultData.timingFunction = transition.timingFunction;\n        }\n        return defaultData;\n    }, [transition]);\n\n    return (\n        <TagName\n            id={`content-${hash}`}\n            aria-labelledby={`button-${hash}`}\n            className={className}\n            style={\n                {\n                    maxHeight: \"0px\",\n                    transitionProperty: \"max-height\",\n                    overflow: \"hidden\",\n                    transitionDuration: transitionData.duration,\n                    transitionTimingFunction: transitionData.timingFunction\n                }\n            }\n        >\n            {children}\n        </TagName>\n    );\n};\n\nexport default AccordionBody;"],
  "mappings": "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",
  "names": ["React", "content"]
}
